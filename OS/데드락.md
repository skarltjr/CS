### 데드락
```
프로세스가 자원을 얻지 못해서 다음 처리를 하지 못하는 상태
교착 상태
- 한정된 자원을 여러 곳에서 사용하려고 할 때 발생
```

### 데드락이 발생하는 경우
- <img width="384" alt="스크린샷 2022-03-07 오후 7 33 32" src="https://user-images.githubusercontent.com/62214428/157014769-35448139-7563-495e-b7a0-d52816e1a77e.png">
```
프로세스 1,2가 존재
프로세스 1,2 모두 resource1,2를 필요로하는 상태

- 프로세스1은 자원 1을 점유 / 프로세스2는 자원 2를 점유한 상태
- 여기서 프로세스1은 자원2를 필요로하기때문에 대기 / 프로세스2는 자원1을 필요로하기때문에 대기
- 결국 둘 다 아무것도 하지못하고 대기하게되는 상태
이게 바로 데드락!!!
```


### ★데드락 발생 조건
- 아래 4조건이 모두!!! 성립했을때만 발생
```
1. 상호 배제
- 자원은 한 번에 한 프로세스만 사용가능

2. 점유 대기
- 최소한 하나의 자원을 점유하고 있으면서 다른 프로세스에 할당되어 사용되고 있는 자원을 추가로 점유하기 위해 대기하는 프로세스가 존재해야 함

3. 비선점
- 다른 프로세스에 할당된 자원은 사용이 끝날때까지 강제로 뺏을 수 없다.

4. 순환 대기
- 프로세스의 집합에서 순환 형태로 자원을 대기하고 있어야함
```

### 데드락 예방 및 회피
```
예방 :
- 4가지의 데드락 발생조건 중 하나라도 피하면 된다.
- 상호배제 : 여러 프로세스가 공유 자원 사용하는 방법으로 
- 점유대기 : 프로세스 실행 전 필요한 모든 자원 할당
- 비선점 : 자원 점유 중인 프로세스가 다른 자원을 요구할 때 갖고있는 자원 반납
- 순환대기 : 자원에 고유번호 할당 후 순서대로 자원 요구



++ 은행원 알고리즘(Banker's Algorithm)

은행에서 모든 고객의 요구가 충족되도록 현금을 할당하는데서 유래함
프로세스가 자원을 요구할 때, 시스템은 자원을 할당한 후에도 여전히 안정 상태로 남아있을 수 있는지 사전에 검사하여 교착 상태 회피
안정 상태면 자원 할당, 아니면 다른 프로세스들이 자원 해지까지 대기
```


